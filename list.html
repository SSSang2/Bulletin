<!DOCTYPE html>
<html lang ="ko">

<head>
	<title>Bootstrap Example</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel = "stylesheet" href = "https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>

<body>
	<div class="container">
		<h2>Table</h2>

		<a href="/insert">Add</a>
		<br>
		<br>
		<p>Table List</p>

		<table class="table table-striped">
			<thread>
				<tr>
					<th>ID</th>
					<th>Title</th>
					<th>Content</th>
					<th>Writer</th>
					<th>Modify</th>
					<th>Delete</th>
				</tr>
			</thread>

			<tbody>

			<% data.forEach(function (item, index){ %>
				<tr>
					<td>
						<%= item.id %>
					</td>

					<td>
						<a href='/detail/<%= item.id %>'><%= item.title %></a>
					</td>

					<td>
						<%= item.content %>
					</td>
	
					<td>
						<%= item.name %>
					</td>

					<td>
						<a href="/delete/<%= item.id %>">Delete</a>
					</td>

					<td>
						<a href="/edit/<%= item.id %>">Edit</a>
					</td>
				</tr>
				<% })%>
			</tbody>
		</table>
	</div>

	<br>
	<br>

	<div class="container">
		<ul class="pager">

	<%
		var curSet = pasing.curSet
		var endPage = pasing.endPage
		var startPage = pasing.startPage
		var totalPage = pasing.totalPage
		var totalSet = pasing.totalSet
		var page_list_size = pasing.page_list_size
		var page_size = pasing.page_size
		var curPage = pasing.curPage
	%>

	<%
		if(curSet > 1){
		%>

			<li value=(startPage-1) class="previous">
				<a href='/pasing/<%=(startPage -1) %>'> Previous Page</a>
			</li>

			<%
		}
			%>

			<%
			for(var i = startPage; i<= endPage; i++){
				if(i>totalPage){break;}
				
				if(i==curPage){
			%>
				<li value=<%i %> class=''>
				<a href = '/pasing/<%= i %>'>
					<%= i%>
				</a>
				</li>

				<%
			}else{
		%>

		<li value=<% i %> class='active'>
			<a href = '/pasing/<%= i %>'>
				<%= i%>
			</a>
		</li>

		<%
			}
		%>

		<%
	}
	%>
		<%
		if(curSet < totalSet){
		%>
			<li value=(endPage +1) class= "next">
				<a href='/pasing/<%= (endPage +1) %>'>Next Page</a>
			</li>
		<%
		}
		%>

	</ul>
</div>

<br>
<br>
</body>
<html>
